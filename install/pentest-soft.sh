#!/usr/bin/env bash

RED="\033[1;31m"
NOCOLOR="\033[0m"

colorecho() {
	echo -e "[*] ${RED}${1}${NOCOLOR}"
}

colorecho 'Starting Installing Pentest Soft'

# Go Variables

export GO111MODULE=on
export GOPATH="/opt/go"
export PATH="$PATH:/usr/local/go/bin"
export PATH=$PATH:$(go env GOPATH)/bin

# Common
sudo apt update && sudo apt install wireshark tcpdump -y

# Web

## Sqlmap
sudo pip3 install --upgrade sqlmap

## CMSeeK
git clone https://github.com/Tuhinshubhra/CMSeeK /opt/cmseek
sudo pip3 install -r /opt/CMSeeK/requirements.txt
sudo ln -sf /opt/cmseek/cmseek.py /usr/local/bin/cmseek

## Nikto
sudo apt install libnet-ssleay-perl -y
git clone https://github.com/sullo/nikto /opt/nikto
sudo ln -sf /opt/nikto/program/nikto.pl /usr/local/bin/nikto

## Wpscan
gpg --keyserver hkp://pool.sks-keyservers.net --recv-keys 409B6B1796C275462A1703113804BB82D39DC0E3 7D2BAF1CF37B13E2069D6956105BD0E739499BDB
curl -sSL https://get.rvm.io | bash -s stable --ruby
source ${HOME}/.rvm/scripts/rvm
sudo apt-get install zlib1g-dev liblzma-dev patch -y
gem install nokogiri --platform=ruby
gem install wpscan

## wafw00f
git clone https://github.com/EnableSecurity/wafw00f.git /opt/wafw00f && cd /opt/wafw00f
sudo python3 setup.py install

## Burpsuite
curl https://portswigger.net/burp/releases/download?product=community&version=2021.2&type=Linux -o /tmp/burp.sh
sudo bash /tmp/burp.sh

## Whatweb
gem install bundler
curl https://codeload.github.com/urbanadventurer/WhatWeb/tar.gz/v0.5.5 -o /tmp/whatweb.tar.gz
tar -zxvf /tmp/whatweb.tar.gz -C /opt/
mv /opt/WhatWeb-0.5.5 /opt/whatweb
cd /opt/whatweb && bundle update && sudo make install

## Httprobe
go get -u github.com/tomnomnom/httprobe

# Exploitation

## Metasploit

curl https://raw.githubusercontent.com/rapid7/metasploit-omnibus/master/config/templates/metasploit-framework-wrappers/msfupdate.erb > /tmp/msfinstall && sudo chmod 755 /tmp/msfinstall && sudo /tmp/msfinstall

## Searchsploit

git clone https://github.com/offensive-security/exploitdb.git /opt/exploit-database
sudo ln -sf /opt/exploit-database/searchsploit /usr/local/bin/searchsploit
cp -n /opt/exploit-database/.searchsploit_rc ${HOME}/

# Bruteforce

## Hydra
sudo apt install libssl-dev libssh-dev libidn11-dev libpcre3-dev libgtk2.0-dev libpq-dev libsvn-dev firebird-dev libmemcached-dev libgpg-error-dev libgcrypt20-dev -y
# sudo apt install libmysqlclient-dev libgcrypt11-dev
curl https://codeload.github.com/vanhauser-thc/thc-hydra/tar.gz/v9.1 -o /tmp/hydra.tar.gz
tar -zxvf /tmp/hydra.tar.gz -C /opt/
mv /opt/thc-hydra-9.1 /opt/hydra
cd /opt/hydra && sudo ./configure && sudo make && sudo make install

## Hashcat
curl https://hashcat.net/files/hashcat-6.1.1.7z -o /tmp/hashcat.7z
7z x /tmp/hashcat.7z -o/opt
mv /opt/hashcat-6.1.1 /opt/hashcat
sudo ln -sf /opt/hashcat/hashcat.bin /usr/local/bin/hashcat

## John The Ripper
sudo apt install git build-essential libssl1.1 libssl-dev zlib1g-dev -y
sudo apt install yasm pkg-config libgmp-dev libpcap-dev libbz2-dev -y
### If you have NVIDIA GPU(s) (OpenCL support)
### sudo apt-get -y install nvidia-opencl-dev
### If you have AMD GPU(s) (OpenCL support)
### sudo apt-get -y install ocl-icd-opencl-dev opencl-headers
git clone https://github.com/openwall/john -b bleeding-jumbo /opt/john
cd /opt/john/src && ./configure && make -C /opt/john/src -s clean && make -C /opt/john/src

# Automation

## Nucli

go get -v github.com/projectdiscovery/nuclei/v2/cmd/nuclei
nuclei -update-templates

# Port Analysis

sudo apt install nmap -y

## Masscan
git clone "https://github.com/robertdavidgraham/masscan.git" /opt/masscan
sudo make -C /opt/masscan
sudo make -C /opt/masscan install

## Dnmasscan
git clone "https://github.com/rastating/dnmasscan.git" /opt/dnmasscan

# Directory fuzzing

## Gobuster
go get github.com/OJ/gobuster

## Wfuzz
sudo apt install libcurl4-openssl-dev libssl-dev -y
sudo pip3 install wfuzz

# Subdomain Enumeration

## Gospider
go get -u github.com/jaeles-project/gospider

## Hakrawler
go get github.com/hakluke/hakrawler

## SubDomainizer
git clone "https://github.com/nsonaniya2010/SubDomainizer.git" /opt/subdomainizer
sudo pip3 install -r /opt/subdomainizer/requirements.txt

## Subscraper
git clone "https://github.com/Cillian-Collins/subscraper.git" /opt/subscraper
sudo pip install -r /opt/subscraper/requirements.txt

## Subfinder
go get -v github.com/projectdiscovery/subfinder/v2/cmd/subfinder

# ASN Enum

## Asnlookup
git clone "https://github.com/yassineaboukir/Asnlookup.git" /opt/asnlookup
sudo pip3 install -r /opt/asnlookup/requirements.txt

## Matabigor
go get -u github.com/j3ssie/metabigor

## Amass
go get -v github.com/OWASP/Amass/v3/...

# WHOIS

## DomLink
git clone "https://github.com/vysecurity/DomLink.git" /opt/domlink

# Service Scanning

## Brutespray
#apt-get install brutespray

# Screenshooting

## EyeWitness
git clone "https://github.com/FortyNorthSecurity/EyeWitness.git" /opt/eyewitness
sudo bash /opt/eyewitness/Python/setup/setup.sh

# Other

## Interlace
git clone "https://github.com/codingo/Interlace.git" /opt/interlace
cd /opt/interlace && sudo python3 /opt/interlace/setup.py install

# Privilege Escalation
mkdir /opt/privesc

## Linpeas
curl https://raw.githubusercontent.com/carlospolop/privilege-escalation-awesome-scripts-suite/master/linPEAS/linpeas.sh -o /opt/privesc/linpeas.sh


# Config

sudo chown -R ${USER}:${USER} /opt

colorecho 'Finished Installing Pentest Soft'
